<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> • pangaear</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pangaear</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pangaear_vignette.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/pangaear">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1></h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/pangaear/blob/master/vignettes/pangaear_vignette.Rmd"><code>vignettes/pangaear_vignette.Rmd</code></a></small>
      <div class="hidden name"><code>pangaear_vignette.Rmd</code></div>

    </div>

    
    
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{Introduction to pangaear}
%\VignetteEncoding{UTF-8}
-->
<div id="introduction-to-pangaear" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction-to-pangaear" class="anchor"></a>Introduction to pangaear</h1>
<p><code>pangaear</code> is a data retrieval interface for the World Data Center PANGAEA (<a href="https://www.pangaea.de/" class="uri">https://www.pangaea.de/</a>). PANGAEA archieves published Earth &amp; Environmental Science data under the following subjects: agriculture, atmosphere, biological classification, biosphere, chemistry, cryosphere, ecology, fisheries, geophysics, human dimensions, lakes &amp; rives, land surface, lithosphere, oceans, and paleontology.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>If you’ve not installed it yet, install from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"pangaear"</span>)</a></code></pre></div>
<p>Or the development version:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"ropensci/pangaear"</span>)</a></code></pre></div>
</div>
<div id="load-pangaear" class="section level2">
<h2 class="hasAnchor">
<a href="#load-pangaear" class="anchor"></a>Load pangaear</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"pangaear"</span>)</a></code></pre></div>
</div>
<div id="search-for-data" class="section level2">
<h2 class="hasAnchor">
<a href="#search-for-data" class="anchor"></a>Search for data</h2>
<p><code>pg_search</code> is a thin wrapper around the GUI search interface on the page <a href="https://www.pangaea.de/" class="uri">https://www.pangaea.de/</a>. Everything you can do there, you can do here.</p>
<p>For example, query for the term ‘water’, with a bounding box, and return only three results.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/pg_search.html">pg_search</a></span>(<span class="dt">query =</span> <span class="st">'water'</span>, <span class="dt">bbox =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">124.2</span>, <span class="fl">41.8</span>, <span class="fl">-116.8</span>, <span class="fl">46.1</span>), <span class="dt">count =</span> <span class="dv">3</span>)</a></code></pre></div>
<pre><code>#&gt; # A tibble: 3 x 6
#&gt;   score doi       size size_measure citation          supplement_to        
#&gt;   &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;             &lt;chr&gt;                
#&gt; 1 12.8  10.1594…     2 datasets     Simonyan, AV; Du… Simonyan, AV; Dultz,…
#&gt; 2  8.70 10.1594…   598 data points  WOCE Surface Vel… &lt;NA&gt;                 
#&gt; 3  8.70 10.1594… 11390 data points  WOCE Upper Ocean… &lt;NA&gt;</code></pre>
<p>The resulting <code>data.frame</code> has details about different studies, and you can use the DOIs (Digital Object Identifiers) to get data and metadata for any studies you’re interested in.</p>
<div id="another-search-option" class="section level3">
<h3 class="hasAnchor">
<a href="#another-search-option" class="anchor"></a>Another search option</h3>
<p>There’s another search option with the <code>pg_search_es</code> function. It is an interface to the Pangaea Elasticsearch interface. This provides a very flexible interface for search Pangaea data - though it is different from what you’re used to with the Pangaea website.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">(res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pg_search_es.html">pg_search_es</a></span>())</a></code></pre></div>
<pre><code>#&gt; # A tibble: 10 x 41
#&gt;    `_index` `_type` `_id` `_score` `_source.intern… `_source.minEle…
#&gt;  * &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt;
#&gt;  1 pangaea… panmd   8387…        1 2018-09-27T17:1…             0.35
#&gt;  2 pangaea… panmd   7179…        1 2018-10-29T17:5…             2   
#&gt;  3 pangaea… panmd   7913…        1 2018-09-27T19:3…           198.  
#&gt;  4 pangaea… panmd   7791…        1 2018-09-27T20:0…            65.0 
#&gt;  5 pangaea… panmd   7198…        1 2018-10-29T17:4…             2   
#&gt;  6 pangaea… panmd   8363…        1 2018-09-27T17:2…             2.85
#&gt;  7 pangaea… panmd   8255…        1 2018-09-27T17:5…             3.72
#&gt;  8 pangaea… panmd   7950…        1 2018-09-27T19:2…             0   
#&gt;  9 pangaea… panmd   7993…        1 2018-09-27T19:1…           318.  
#&gt; 10 pangaea… panmd   8289…        1 2018-09-27T17:4…             0   
#&gt; # … with 35 more variables: `_source.sf-authortitle` &lt;chr&gt;,
#&gt; #   `_source.techKeyword` &lt;list&gt;, `_source.geocodes` &lt;list&gt;,
#&gt; #   `_source.sp-loginOption` &lt;int&gt;, `_source.agg-author` &lt;list&gt;,
#&gt; #   `_source.eastBoundLongitude` &lt;dbl&gt;, `_source.URI` &lt;chr&gt;,
#&gt; #   `_source.agg-pubYear` &lt;int&gt;, `_source.agg-geometry` &lt;chr&gt;,
#&gt; #   `_source.xml-thumb` &lt;chr&gt;, `_source.xml` &lt;chr&gt;,
#&gt; #   `_source.sf-idDataSet` &lt;int&gt;, `_source.elevationGeocode` &lt;chr&gt;,
#&gt; #   `_source.xml-sitemap` &lt;chr&gt;, `_source.westBoundLongitude` &lt;dbl&gt;,
#&gt; #   `_source.northBoundLatitude` &lt;dbl&gt;, `_source.sp-dataStatus` &lt;int&gt;,
#&gt; #   `_source.nDataPoints` &lt;int&gt;, `_source.sp-hidden` &lt;lgl&gt;,
#&gt; #   `_source.agg-location` &lt;list&gt;, `_source.internal-source` &lt;chr&gt;,
#&gt; #   `_source.southBoundLatitude` &lt;dbl&gt;, `_source.boost` &lt;dbl&gt;,
#&gt; #   `_source.oaiSet` &lt;list&gt;, `_source.maxElevation` &lt;dbl&gt;,
#&gt; #   `_source.agg-campaign` &lt;chr&gt;, `_source.minDateTime` &lt;chr&gt;,
#&gt; #   `_source.agg-mainTopic` &lt;list&gt;, `_source.maxDateTime` &lt;chr&gt;,
#&gt; #   `_source.agg-topic` &lt;list&gt;, `_source.agg-project` &lt;list&gt;,
#&gt; #   `_source.agg-device` &lt;chr&gt;, `_source.agg-basis` &lt;chr&gt;,
#&gt; #   `_source.meanPosition.lat` &lt;dbl&gt;, `_source.meanPosition.lon` &lt;dbl&gt;</code></pre>
<p>The returned data.frame has a lot of columns. You can limit columns returned with the <code>source</code> parameter.</p>
<p>There are attributes on the data.frame that give you the total number of results found as well as the max score found.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/attributes.html">attributes</a></span>(res)</a></code></pre></div>
<pre><code>#&gt; $names
#&gt;  [1] "_index"                     "_type"                     
#&gt;  [3] "_id"                        "_score"                    
#&gt;  [5] "_source.internal-datestamp" "_source.minElevation"      
#&gt;  [7] "_source.sf-authortitle"     "_source.techKeyword"       
#&gt;  [9] "_source.geocodes"           "_source.sp-loginOption"    
#&gt; [11] "_source.agg-author"         "_source.eastBoundLongitude"
#&gt; [13] "_source.URI"                "_source.agg-pubYear"       
#&gt; [15] "_source.agg-geometry"       "_source.xml-thumb"         
#&gt; [17] "_source.xml"                "_source.sf-idDataSet"      
#&gt; [19] "_source.elevationGeocode"   "_source.xml-sitemap"       
#&gt; [21] "_source.westBoundLongitude" "_source.northBoundLatitude"
#&gt; [23] "_source.sp-dataStatus"      "_source.nDataPoints"       
#&gt; [25] "_source.sp-hidden"          "_source.agg-location"      
#&gt; [27] "_source.internal-source"    "_source.southBoundLatitude"
#&gt; [29] "_source.boost"              "_source.oaiSet"            
#&gt; [31] "_source.maxElevation"       "_source.agg-campaign"      
#&gt; [33] "_source.minDateTime"        "_source.agg-mainTopic"     
#&gt; [35] "_source.maxDateTime"        "_source.agg-topic"         
#&gt; [37] "_source.agg-project"        "_source.agg-device"        
#&gt; [39] "_source.agg-basis"          "_source.meanPosition.lat"  
#&gt; [41] "_source.meanPosition.lon"  
#&gt; 
#&gt; $row.names
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10
#&gt; 
#&gt; $class
#&gt; [1] "tbl_df"     "tbl"        "data.frame"
#&gt; 
#&gt; $total
#&gt; [1] 386124
#&gt; 
#&gt; $max_score
#&gt; [1] 1</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(res, <span class="st">"total"</span>)</a></code></pre></div>
<pre><code>#&gt; [1] 386124</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/attr.html">attr</a></span>(res, <span class="st">"max_score"</span>)</a></code></pre></div>
<pre><code>#&gt; [1] 1</code></pre>
<p>To get to the DOIs for each study, use</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"https://doi.org/"</span>, <span class="st">""</span>, res<span class="op">$</span><span class="st">`</span><span class="dt">_source.URI</span><span class="st">`</span>)</a></code></pre></div>
<pre><code>#&gt;  [1] "10.1594/PANGAEA.838718" "10.1594/PANGAEA.717974"
#&gt;  [3] "10.1594/PANGAEA.791357" "10.1594/PANGAEA.779192"
#&gt;  [5] "10.1594/PANGAEA.719864" "10.1594/PANGAEA.836369"
#&gt;  [7] "10.1594/PANGAEA.825583" "10.1594/PANGAEA.795004"
#&gt;  [9] "10.1594/PANGAEA.799338" "10.1594/PANGAEA.828908"</code></pre>
</div>
</div>
<div id="get-data" class="section level2">
<h2 class="hasAnchor">
<a href="#get-data" class="anchor"></a>Get data</h2>
<p>The function <code>pg_data</code> fetches datasets for studies by their DOIs.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pg_data.html">pg_data</a></span>(<span class="dt">doi =</span> <span class="st">'10.1594/PANGAEA.807580'</span>)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">res[[<span class="dv">1</span>]]</a></code></pre></div>
<pre><code>#&gt; &lt;Pangaea data&gt; 10.1594/PANGAEA.807580
#&gt;   parent doi: 10.1594/PANGAEA.807580
#&gt;   url:        https://doi.org/10.1594/PANGAEA.807580
#&gt;   citation:   Schiebel, Ralf; Waniek, Joanna J; Bork, Matthias; Hemleben, Christoph (2001): Physical oceanography during METEOR cruise M36/6. PANGAEA, https://doi.org/10.1594/PANGAEA.807580, In supplement to: Schiebel, R et al. (2001): Planktic foraminiferal production stimulated by chlorophyll redistribution and entrainment of nutrients. Deep Sea Research Part I: Oceanographic Research Papers, 48(3), 721-740, https://doi.org/10.1016/S0967-0637(00)00065-0
#&gt;   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_807580.txt
#&gt;   data:
#&gt; # A tibble: 32,179 x 13
#&gt;    Event `Date/Time` Latitude Longitude `Elevation [m]` `Depth water [m…
#&gt;    &lt;chr&gt; &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;           &lt;int&gt;            &lt;dbl&gt;
#&gt;  1 M36/… 1996-10-14…     49.0     -16.5           -4802             0   
#&gt;  2 M36/… 1996-10-14…     49.0     -16.5           -4802             0.99
#&gt;  3 M36/… 1996-10-14…     49.0     -16.5           -4802             1.98
#&gt;  4 M36/… 1996-10-14…     49.0     -16.5           -4802             2.97
#&gt;  5 M36/… 1996-10-14…     49.0     -16.5           -4802             3.96
#&gt;  6 M36/… 1996-10-14…     49.0     -16.5           -4802             4.96
#&gt;  7 M36/… 1996-10-14…     49.0     -16.5           -4802             5.95
#&gt;  8 M36/… 1996-10-14…     49.0     -16.5           -4802             6.94
#&gt;  9 M36/… 1996-10-14…     49.0     -16.5           -4802             7.93
#&gt; 10 M36/… 1996-10-14…     49.0     -16.5           -4802             8.92
#&gt; # … with 32,169 more rows, and 7 more variables: `Press [dbar]` &lt;int&gt;,
#&gt; #   `Temp [°C]` &lt;dbl&gt;, Sal &lt;dbl&gt;, `Tpot [°C]` &lt;dbl&gt;, `Sigma-theta
#&gt; #   [kg/m**3]` &lt;dbl&gt;, `Sigma in situ [kg/m**3]` &lt;dbl&gt;, `Cond
#&gt; #   [mS/cm]` &lt;dbl&gt;</code></pre>
<p>Search for data then pass one or more DOIs to the <code>pg_data</code> function.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pg_search.html">pg_search</a></span>(<span class="dt">query =</span> <span class="st">'water'</span>, <span class="dt">bbox =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="fl">124.2</span>, <span class="fl">41.8</span>, <span class="fl">-116.8</span>, <span class="fl">46.1</span>), <span class="dt">count =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw"><a href="../reference/pg_data.html">pg_data</a></span>(res<span class="op">$</span>doi[<span class="dv">3</span>])[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>#&gt; [[1]]
#&gt; &lt;Pangaea data&gt; 10.1594/PANGAEA.325191
#&gt;   parent doi: 10.1594/PANGAEA.325191
#&gt;   url:        https://doi.org/10.1594/PANGAEA.325191
#&gt;   citation:   WOCE Upper Ocean Thermal, UOT (2005): Water temperature XBT profiles from cruise 181991002 (DCQC). Marine Environmental Data Services Branch, Ontario, PANGAEA, https://doi.org/10.1594/PANGAEA.325191
#&gt;   path:       /Users/sckott/Library/Caches/R/pangaear/10_1594_PANGAEA_325191.txt
#&gt;   data:
#&gt; # A tibble: 5,695 x 6
#&gt;    `Date/Time` Latitude Longitude `Depth water [m… `Temp [°C]`
#&gt;    &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;            &lt;int&gt; &lt;chr&gt;      
#&gt;  1 1991-03-26…     38.6     -124.                1 10.57      
#&gt;  2 1991-03-26…     38.6     -124.                2 10.75      
#&gt;  3 1991-03-26…     38.6     -124.                3 10.89      
#&gt;  4 1991-03-26…     38.6     -124.                4 10.96      
#&gt;  5 1991-03-26…     38.6     -124.                5 11.04      
#&gt;  6 1991-03-26…     38.6     -124.                6 11.09      
#&gt;  7 1991-03-26…     38.6     -124.                7 11.12      
#&gt;  8 1991-03-26…     38.6     -124.                8 11.13      
#&gt;  9 1991-03-26…     38.6     -124.                9 11.15      
#&gt; 10 1991-03-26…     38.6     -124.               10 11.15      
#&gt; # … with 5,685 more rows, and 1 more variable: `Sample label` &lt;chr&gt;
#&gt; 
#&gt; [[2]]
#&gt; NULL
#&gt; 
#&gt; [[3]]
#&gt; NULL</code></pre>
</div>
<div id="oai-pmh-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#oai-pmh-metadata" class="anchor"></a>OAI-PMH metadata</h2>
<p><a href="https://wiki.pangaea.de/wiki/OAI-PMH">OAI-PMH</a> is a standard protocol for serving metadata around objects, in this case datasets. If you are already familiar with OAI-PMH you are in luck as you can can use what you know here. If not familiar, it’s relatively straight-forward.</p>
<p>Note that you can’t get data through these functions, rather only metadata about datasets.</p>
<div id="identify-the-service" class="section level3">
<h3 class="hasAnchor">
<a href="#identify-the-service" class="anchor"></a>Identify the service</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw"><a href="../reference/pg_identify.html">pg_identify</a></span>()</a></code></pre></div>
<pre><code>#&gt; &lt;Pangaea&gt;
#&gt;   repositoryName: PANGAEA - Data Publisher for Earth &amp; Environmental Science
#&gt;   baseURL: https://ws.pangaea.de/oai/provider
#&gt;   protocolVersion: 2.0
#&gt;   adminEmail: tech@pangaea.de
#&gt;   adminEmail: tech@pangaea.de
#&gt;   earliestDatestamp: 2015-01-01T00:00:00Z
#&gt;   deletedRecord: transient
#&gt;   granularity: YYYY-MM-DDThh:mm:ssZ
#&gt;   compression: gzip
#&gt;   description: oaipangaea.de:oai:pangaea.de:doi:10.1594/PANGAEA.999999</code></pre>
</div>
<div id="list-metadata-formats" class="section level3">
<h3 class="hasAnchor">
<a href="#list-metadata-formats" class="anchor"></a>List metadata formats</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="../reference/pg_list_metadata_formats.html">pg_list_metadata_formats</a></span>()</a></code></pre></div>
<pre><code>#&gt;   metadataPrefix                                                  schema
#&gt; 1         oai_dc          http://www.openarchives.org/OAI/2.0/oai_dc.xsd
#&gt; 2         pan_md       http://ws.pangaea.de/schemas/pangaea/MetaData.xsd
#&gt; 3            dif  http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/dif_v9.4.xsd
#&gt; 4       iso19139                http://www.isotc211.org/2005/gmd/gmd.xsd
#&gt; 5  iso19139.iodp                http://www.isotc211.org/2005/gmd/gmd.xsd
#&gt; 6      datacite3   http://schema.datacite.org/meta/kernel-3/metadata.xsd
#&gt; 7      datacite4 http://schema.datacite.org/meta/kernel-4.1/metadata.xsd
#&gt;                             metadataNamespace
#&gt; 1 http://www.openarchives.org/OAI/2.0/oai_dc/
#&gt; 2              http://www.pangaea.de/MetaData
#&gt; 3  http://gcmd.gsfc.nasa.gov/Aboutus/xml/dif/
#&gt; 4            http://www.isotc211.org/2005/gmd
#&gt; 5            http://www.isotc211.org/2005/gmd
#&gt; 6         http://datacite.org/schema/kernel-3
#&gt; 7         http://datacite.org/schema/kernel-4</code></pre>
</div>
<div id="list-identifiers" class="section level3">
<h3 class="hasAnchor">
<a href="#list-identifiers" class="anchor"></a>List identifiers</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw"><a href="../reference/pg_list_identifiers.html">pg_list_identifiers</a></span>(<span class="dt">from =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>() <span class="op">-</span><span class="st"> </span><span class="dv">2</span>, <span class="dt">until =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>())</a></code></pre></div>
<pre><code>#&gt; # A tibble: 514 x 11
#&gt;    identifier datestamp setSpec setSpec.1 setSpec.2 setSpec.3 setSpec.4
#&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    
#&gt;  1 oai:panga… 2019-08-… citable hmmv      suppleme… topicOce… &lt;NA&gt;     
#&gt;  2 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  3 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  4 oai:panga… 2019-08-… citable suppleme… topicBio… topicEco… topicOce…
#&gt;  5 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  6 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  7 oai:panga… 2019-08-… citable suppleme… topicLit… topicOce… topicPal…
#&gt;  8 oai:panga… 2019-08-… citable suppleme… topicLan… topicLit… topicPal…
#&gt;  9 oai:panga… 2019-08-… citable suppleme… topicChe… topicGeo… topicLit…
#&gt; 10 oai:panga… 2019-08-… citable suppleme… topicLan… topicLit… &lt;NA&gt;     
#&gt; # … with 504 more rows, and 4 more variables: setSpec.5 &lt;chr&gt;,
#&gt; #   setSpec.6 &lt;chr&gt;, setSpec.7 &lt;chr&gt;, setSpec.8 &lt;chr&gt;</code></pre>
</div>
<div id="list-sets" class="section level3">
<h3 class="hasAnchor">
<a href="#list-sets" class="anchor"></a>List sets</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw"><a href="../reference/pg_list_sets.html">pg_list_sets</a></span>()</a></code></pre></div>
<pre><code>#&gt; # A tibble: 282 x 2
#&gt;    setSpec   setName                                        
#&gt;    &lt;chr&gt;     &lt;chr&gt;                                          
#&gt;  1 ACD       PANGAEA set / keyword 'ACD' (2 data sets)      
#&gt;  2 ASPS      PANGAEA set / keyword 'ASPS' (59 data sets)    
#&gt;  3 AWIXRFraw PANGAEA set / keyword 'AWIXRFraw' (1 data sets)
#&gt;  4 BAH1960   PANGAEA set / keyword 'BAH1960' (2 data sets)  
#&gt;  5 BAH1961   PANGAEA set / keyword 'BAH1961' (2 data sets)  
#&gt;  6 BAH1962   PANGAEA set / keyword 'BAH1962' (7 data sets)  
#&gt;  7 BAH1963   PANGAEA set / keyword 'BAH1963' (7 data sets)  
#&gt;  8 BAH1964   PANGAEA set / keyword 'BAH1964' (7 data sets)  
#&gt;  9 BAH1965   PANGAEA set / keyword 'BAH1965' (7 data sets)  
#&gt; 10 BAH1966   PANGAEA set / keyword 'BAH1966' (6 data sets)  
#&gt; # … with 272 more rows</code></pre>
</div>
<div id="list-records" class="section level3">
<h3 class="hasAnchor">
<a href="#list-records" class="anchor"></a>List records</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="../reference/pg_list_records.html">pg_list_records</a></span>(<span class="dt">from =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>() <span class="op">-</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">until =</span> <span class="kw"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>())</a></code></pre></div>
<pre><code>#&gt; # A tibble: 331 x 586
#&gt;    identifier datestamp setSpec setSpec.1 setSpec.2 setSpec.3 setSpec.4
#&gt;    &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;    
#&gt;  1 oai:panga… 2019-08-… citable suppleme… topicBio… topicEco… topicOce…
#&gt;  2 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  3 oai:panga… 2019-08-… citable suppleme… topicLit… topicOce… topicPal…
#&gt;  4 oai:panga… 2019-08-… citable suppleme… topicLan… topicLit… topicPal…
#&gt;  5 oai:panga… 2019-08-… citable &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  6 oai:panga… 2019-08-… citable suppleme… topicLit… &lt;NA&gt;      &lt;NA&gt;     
#&gt;  7 oai:panga… 2019-08-… BCCR    suppleme… topicLan… topicLit… &lt;NA&gt;     
#&gt;  8 oai:panga… 2019-08-… citable suppleme… &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt;  9 oai:panga… 2019-08-… citable &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;     
#&gt; 10 oai:panga… 2019-08-… citable suppleme… topicLit… &lt;NA&gt;      &lt;NA&gt;     
#&gt; # … with 321 more rows, and 579 more variables: title &lt;chr&gt;,
#&gt; #   creator &lt;chr&gt;, creator.1 &lt;chr&gt;, creator.2 &lt;chr&gt;, creator.3 &lt;chr&gt;,
#&gt; #   source &lt;chr&gt;, publisher &lt;chr&gt;, date &lt;chr&gt;, type &lt;chr&gt;, format &lt;chr&gt;,
#&gt; #   identifier.2 &lt;chr&gt;, identifier.1 &lt;chr&gt;, description &lt;chr&gt;,
#&gt; #   language &lt;chr&gt;, rights &lt;chr&gt;, rights.1 &lt;chr&gt;, coverage &lt;chr&gt;,
#&gt; #   subject &lt;chr&gt;, creator.4 &lt;chr&gt;, relation &lt;chr&gt;, creator.5 &lt;chr&gt;,
#&gt; #   creator.6 &lt;chr&gt;, creator.7 &lt;chr&gt;, creator.8 &lt;chr&gt;, creator.9 &lt;chr&gt;,
#&gt; #   creator.10 &lt;chr&gt;, creator.11 &lt;chr&gt;, relation.1 &lt;chr&gt;,
#&gt; #   relation.2 &lt;chr&gt;, relation.3 &lt;chr&gt;, relation.4 &lt;chr&gt;,
#&gt; #   relation.5 &lt;chr&gt;, relation.6 &lt;chr&gt;, relation.7 &lt;chr&gt;,
#&gt; #   relation.8 &lt;chr&gt;, relation.9 &lt;chr&gt;, relation.10 &lt;chr&gt;,
#&gt; #   relation.11 &lt;chr&gt;, relation.12 &lt;chr&gt;, relation.13 &lt;chr&gt;,
#&gt; #   relation.14 &lt;chr&gt;, relation.15 &lt;chr&gt;, relation.16 &lt;chr&gt;,
#&gt; #   relation.17 &lt;chr&gt;, relation.18 &lt;chr&gt;, relation.19 &lt;chr&gt;,
#&gt; #   relation.20 &lt;chr&gt;, relation.21 &lt;chr&gt;, relation.22 &lt;chr&gt;,
#&gt; #   relation.23 &lt;chr&gt;, relation.24 &lt;chr&gt;, relation.25 &lt;chr&gt;,
#&gt; #   relation.26 &lt;chr&gt;, relation.27 &lt;chr&gt;, relation.28 &lt;chr&gt;,
#&gt; #   relation.29 &lt;chr&gt;, relation.30 &lt;chr&gt;, relation.31 &lt;chr&gt;,
#&gt; #   relation.32 &lt;chr&gt;, relation.33 &lt;chr&gt;, relation.34 &lt;chr&gt;,
#&gt; #   relation.35 &lt;chr&gt;, relation.36 &lt;chr&gt;, relation.37 &lt;chr&gt;,
#&gt; #   relation.38 &lt;chr&gt;, relation.39 &lt;chr&gt;, relation.40 &lt;chr&gt;,
#&gt; #   relation.41 &lt;chr&gt;, relation.42 &lt;chr&gt;, relation.43 &lt;chr&gt;,
#&gt; #   relation.44 &lt;chr&gt;, relation.45 &lt;chr&gt;, relation.46 &lt;chr&gt;,
#&gt; #   relation.47 &lt;chr&gt;, relation.48 &lt;chr&gt;, relation.49 &lt;chr&gt;,
#&gt; #   relation.50 &lt;chr&gt;, relation.51 &lt;chr&gt;, relation.52 &lt;chr&gt;,
#&gt; #   relation.53 &lt;chr&gt;, relation.54 &lt;chr&gt;, relation.55 &lt;chr&gt;,
#&gt; #   relation.56 &lt;chr&gt;, relation.57 &lt;chr&gt;, relation.58 &lt;chr&gt;,
#&gt; #   relation.59 &lt;chr&gt;, relation.60 &lt;chr&gt;, relation.61 &lt;chr&gt;,
#&gt; #   relation.62 &lt;chr&gt;, relation.63 &lt;chr&gt;, relation.64 &lt;chr&gt;,
#&gt; #   relation.65 &lt;chr&gt;, relation.66 &lt;chr&gt;, relation.67 &lt;chr&gt;,
#&gt; #   relation.68 &lt;chr&gt;, relation.69 &lt;chr&gt;, relation.70 &lt;chr&gt;,
#&gt; #   relation.71 &lt;chr&gt;, relation.72 &lt;chr&gt;, relation.73 &lt;chr&gt;, …</code></pre>
</div>
<div id="get-a-record" class="section level3">
<h3 class="hasAnchor">
<a href="#get-a-record" class="anchor"></a>Get a record</h3>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw"><a href="../reference/pg_get_record.html">pg_get_record</a></span>(<span class="dt">identifier =</span> <span class="st">"oai:pangaea.de:doi:10.1594/PANGAEA.788382"</span>)</a></code></pre></div>
<pre><code>#&gt; $`oai:pangaea.de:doi:10.1594/PANGAEA.788382`
#&gt; $`oai:pangaea.de:doi:10.1594/PANGAEA.788382`$header
#&gt; # A tibble: 1 x 3
#&gt;   identifier                  datestamp       setSpec                      
#&gt;   &lt;chr&gt;                       &lt;chr&gt;           &lt;chr&gt;                        
#&gt; 1 oai:pangaea.de:doi:10.1594… 2019-02-13T10:… citable;supplement;topicChem…
#&gt; 
#&gt; $`oai:pangaea.de:doi:10.1594/PANGAEA.788382`$metadata
#&gt; # A tibble: 1 x 13
#&gt;   title creator source publisher date  type  format identifier description
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;      
#&gt; 1 Trac… Demina… P.P. … PANGAEA   2012… Data… appli… https://d… Bioaccumul…
#&gt; # … with 4 more variables: language &lt;chr&gt;, rights &lt;chr&gt;, coverage &lt;chr&gt;,
#&gt; #   subject &lt;chr&gt;</code></pre>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#introduction-to-pangaear">Introduction to pangaear</a><ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#load-pangaear">Load pangaear</a></li>
      <li><a href="#search-for-data">Search for data</a></li>
      <li><a href="#get-data">Get data</a></li>
      <li><a href="#oai-pmh-metadata">OAI-PMH metadata</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Scott Chamberlain, Kara Woo, Andrew MacDonald, Naupaka  Zimmerman, Gavin Simpson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
